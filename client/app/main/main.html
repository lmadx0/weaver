<div ng-include="'components/navbar/navbar.html'"></div>

<!--<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
        <h3 class="modal-title">Add Document</h3>
    </div>
    <br>
    <div class="form-group">
      <label for="docTitle" class="col-lg-2 control-label">Title</label>
      <div class="col-lg-10">
        <input type="text" class="form-control" id="docTitle" ng-model="addDoc.title">
      </div>
    </div>
    <div class="form-group">
      <label for="docText" class="col-lg-2 control-label">Text</label>
      <div class="col-lg-10">
        <textarea ng-model="addDoc.txt" rows="8" class="form-control" id="docText"></textarea>
      </div>
      &nbsp;
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</script>-->

<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <div>
        <tabset>
          <tab heading="Documents">
            <br>
              <div class="col-lg-6">
                  <button class="btn btn-default btn-sm" ng-click="open('lg')"><span class="glyphicon glyphicon-plus"></span> Add Document</button>
                  <br><br>
                  <span ng-if="documents.length == 0">No documents. Add a few to analyze!</span>
                  <div class="list-group" ng-if="documents.length > 0">
                    <a href="#" class="list-group-item" ng-repeat="doc in documents" >
                      {{doc.title}}
                      <span class="pull-right"><span class="glyphicon glyphicon-minus-sign" ng-click="removeDoc($index)"></span></span>
                    </a>
                  </div>
                  <br>
              </div>
              <div class="col-lg-6 centered" ng-if="documents.length > 0">
                <br>
                <span class="btn btn-primary btn-lg" ng-click="getRelation()" ng-if="!analyzing">Analyze</span>
                <img src="../assets/images/watson.gif" ng-if="analyzing">
                <br><br>
                &nbsp;
              </div>
          </tab>
          <tab heading="Network Graph" ng-hide="!relationships" active="finished">
            <div class="row">
              <div class="col-lg-8">
                <div id="canvas"></div>
              </div>
              <div class="col-lg-4">
                <br>
                <div class="form-group">
                  <br>
                  <label for="docTitle" class="col-lg-2 control-label">Type</label>
                  <div class="col-lg-10">
                    <select ng-model="graphFilter" ng-change="redraw(graphFilter)">
                      <option value="PERSON">Person</option>
                      <option value="PEOPLE">People</option>
                      <option value="LOCATION">Locations</option>
                      <option value="ORGANIZATION">Organizations</option>
                      <option value="GPE">Geopolitical Entity</option>
                    </select>
                  </div>
                </div>
                <br>
                <div class="panel panel-default">
                  <div class="panel-heading">Details</div>
                  <div class="panel-body">
                    <div id="details">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </tab>
          <tab heading="People" class="padding" ng-hide="!relationships">
            <br>
              <div class="col-lg-6" ng-repeat="person in persons">
                <div class="panel panel-default">
                <div class="panel-heading">{{person.mentref[0]._}}</div>
                <div class="panel-body">
                  {{person.$.score}}
                  <div ng-repeat="mention in person.mentref" class="small-text">
                    "...{{index.mentions[mention.$.mid].snippets.pre}}<strong>{{index.mentions[mention.$.mid].snippets.term}}</strong>{{index.mentions[mention.$.mid].snippets.post}}..."</i><br><br>
                  </div>
                </div>
                </div>
              </div>
          </tab>
          <tab heading="Organizations" ng-hide="!relationships">
            <br>
            <div class="col-lg-6" ng-repeat="org in organizations">
              <div class="panel panel-default">
              <div class="panel-heading">{{org.mentref[0]._}}</div>
              <div class="panel-body">
                {{org.$.score}}
                <div ng-repeat="mention in org.mentref" class="small-text">
                  <i>"...{{index.mentions[mention.$.mid].snippets.pre}}<strong>{{index.mentions[mention.$.mid].snippets.term}}</strong>{{index.mentions[mention.$.mid].snippets.post}}..."</i><br><br>
                </div>
              </div>
              </div>
            </div>
          </tab>
          <tab heading="Timeline" ng-hide="!relationships">
            <br>
            <div class="col-lg-6" ng-repeat="event in events">
              <div class="panel panel-default">
              <div class="panel-heading">{{event.mentref[0]._}}</div>
              <div class="panel-body">
                {{event.$.score}}<br>
                {{event.$.type}}<br>
                <div ng-repeat="mention in event.mentref" class="small-text">
                  <i>"...{{index.mentions[mention.$.mid].snippets.pre}}<strong>{{index.mentions[mention.$.mid].snippets.term}}</strong>{{index.mentions[mention.$.mid].snippets.post}}..."</i><br><br>
                </div>
              </div>
              </div>
            </div>
          </tab>
          <tab heading="All" ng-hide="!relationships">
            <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>Entity</th>
              <th>Type</th>
              <th>Id</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="entity in entities">
              <td>{{entity.mentref[0]._}}</td>
              <td>{{entity.$.type}}</td>
              <td>{{entity.$.eid}}</td>
            </tr>
          </tbody>
        </table>
          </tab>
        </tabset>
      </div>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container">
      <p>Ariadne by <a href="https://github.com/rvillanueva">Ryan Villanueva</a></p>
  </div>
</footer>
